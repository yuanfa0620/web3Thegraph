specVersion: 1.3.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: NFTMarketplace
    network: sepolia
    source:
      address: "0x1Ed2E25EaF1D87653A42B8e89A120877d3Fc757b"
      abi: NFTMarketplace
      startBlock: 9808997
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - EmergencyWithdrawAll
        - NFTDeposited
        - NFTRemovedFromWhitelist
        - NFTSold
        - NFTWhitelisted
        - NFTWithdrawn
        - OrderStatusUpdated
        - OwnershipTransferred
        - Paused
        - PriceSet
        - Unpaused
        - WhitelistManagerSet
      abis:
        - name: NFTMarketplace
          file: ./abis/NFTMarketplace.json
      eventHandlers:
        - event: EmergencyWithdrawAll(uint256)
          handler: handleEmergencyWithdrawAll
        - event: NFTDeposited(indexed address,indexed uint256,address,uint256,indexed uint256)
          handler: handleNFTDeposited
        - event: NFTRemovedFromWhitelist(indexed address)
          handler: handleNFTRemovedFromWhitelist
        - event: NFTSold(indexed address,indexed
            uint256,address,address,uint256,uint256,uint256,indexed uint256)
          handler: handleNFTSold
        - event: NFTWhitelisted(indexed address,uint256)
          handler: handleNFTWhitelisted
        - event: NFTWithdrawn(indexed address,indexed uint256,address,indexed uint256)
          handler: handleNFTWithdrawn
        - event: OrderStatusUpdated(indexed uint256,uint8)
          handler: handleOrderStatusUpdated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Paused(indexed address)
          handler: handlePaused
        - event: PriceSet(indexed address,indexed uint256,uint256)
          handler: handlePriceSet
        - event: Unpaused(indexed address)
          handler: handleUnpaused
        - event: WhitelistManagerSet(indexed address)
          handler: handleWhitelistManagerSet
      file: ./src/nft-marketplace.ts
  - kind: ethereum
    name: WhitelistManager
    network: sepolia
    source:
      address: "0x7A0c8c02a4936AeBC408bAbAd3d9f222C2FAA056"
      abi: WhitelistManager
      startBlock: 9809009
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - FeesWithdrawn
        - MarketplaceSet
        - WhitelistManagerOwnershipTransferred
        - WhitelistAdded
        - WhitelistFeeSet
      abis:
        - name: WhitelistManager
          file: ./abis/WhitelistManager.json
      eventHandlers:
        - event: FeesWithdrawn(indexed address,uint256)
          handler: handleFeesWithdrawn
        - event: MarketplaceSet(indexed address)
          handler: handleMarketplaceSet
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: WhitelistAdded(indexed address,uint256,indexed address,uint256)
          handler: handleWhitelistAdded
        - event: WhitelistFeeSet(uint256)
          handler: handleWhitelistFeeSet
      file: ./src/whitelist-manager.ts
