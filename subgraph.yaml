specVersion: 1.3.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: NFTMarketplace
    network: sepolia
    source:
      address: "0xe64C5b1052D699fF47A85E143e645069cAC8B967"
      abi: NFTMarketplace
      startBlock: 9871864
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - EmergencyWithdrawAll
        - NFTDeposited
        - NFTRemovedFromWhitelist
        - NFTSold
        - NFTWhitelisted
        - NFTWithdrawn
        - OrderStatusUpdated
        - OwnershipTransferred
        - Paused
        - PriceSet
        - Unpaused
        - WhitelistManagerSet
      abis:
        - name: NFTMarketplace
          file: ./abis/NFTMarketplace.json
      eventHandlers:
        - event: EmergencyWithdrawAll(uint256)
          handler: handleEmergencyWithdrawAll
        - event: NFTDeposited(indexed address,indexed uint256,address,uint256,indexed uint256)
          handler: handleNFTDeposited
        - event: NFTRemovedFromWhitelist(indexed address)
          handler: handleNFTRemovedFromWhitelist
        - event: NFTSold(indexed address,indexed
            uint256,address,address,uint256,uint256,uint256,indexed uint256)
          handler: handleNFTSold
        - event: NFTWhitelisted(indexed address,uint256)
          handler: handleNFTWhitelisted
        - event: NFTWithdrawn(indexed address,indexed uint256,address,indexed uint256)
          handler: handleNFTWithdrawn
        - event: OrderStatusUpdated(indexed uint256,uint8)
          handler: handleOrderStatusUpdated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Paused(indexed address)
          handler: handlePaused
        - event: PriceSet(indexed address,indexed uint256,uint256)
          handler: handlePriceSet
        - event: Unpaused(indexed address)
          handler: handleUnpaused
        - event: WhitelistManagerSet(indexed address)
          handler: handleWhitelistManagerSet
      file: ./src/nft-marketplace.ts
  - kind: ethereum
    name: WhitelistManager
    network: sepolia
    source:
      address: "0x96Dc58bC9F5f06403a814A0b7dd80923d06100E6"
      abi: WhitelistManager
      startBlock: 9871897
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - FeesWithdrawn
        - MarketplaceSet
        - WhitelistManagerOwnershipTransferred
        - WhitelistManagerPaused
        - WhitelistManagerUnpaused
        - WhitelistAdded
        - WhitelistFeeSet
      abis:
        - name: WhitelistManager
          file: ./abis/WhitelistManager.json
      eventHandlers:
        - event: FeesWithdrawn(indexed address,uint256)
          handler: handleFeesWithdrawn
        - event: MarketplaceSet(indexed address)
          handler: handleMarketplaceSet
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Paused(indexed address)
          handler: handlePaused
        - event: Unpaused(indexed address)
          handler: handleUnpaused
        - event: WhitelistAdded(indexed address,uint256,indexed address,uint256)
          handler: handleWhitelistAdded
        - event: WhitelistFeeSet(uint256)
          handler: handleWhitelistFeeSet
      file: ./src/whitelist-manager.ts
